{"id":"e2l8","dependencies":[{"name":"/home/shy/code/puemos/hls-downloader-chrome-extension/.babelrc","includedInParent":true,"mtime":1552234699080},{"name":"/home/shy/code/puemos/hls-downloader-chrome-extension/package.json","includedInParent":true,"mtime":1578255291486},{"name":"redux-saga/effects","loc":{"line":1,"column":26},"parent":"/home/shy/code/puemos/hls-downloader-chrome-extension/src/background/saveAs.js","resolved":"/home/shy/code/puemos/hls-downloader-chrome-extension/node_modules/redux-saga/es/effects.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=l;var e=require(\"redux-saga/effects\");function t(e){return[e.title].filter(Boolean).map(e=>String(e)).map(e=>e.split(\"/\")).filter(e=>e[e.length-1]).map(e=>e[e.length-1]).map(e=>e.split(\".m3u8\")).map(e=>e[0]).map(e=>`${e}.mp4`)[0]}function a(e){const{payload:a}=e;chrome.downloads.download({url:a.link,filename:t(a),saveAs:!0})}function*l(){yield(0,e.takeEvery)(\"CHROME_DOWNLOAD\",a)}"},"sourceMaps":{"js":{"mappings":[{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":0}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":13}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":20}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":35}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":43}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":56}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":57}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":64}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":68}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":76}},{"source":"saveAs.js","original":{"line":26,"column":1},"generated":{"line":1,"column":84}},{"source":"saveAs.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"saveAs.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"saveAs.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"saveAs.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"saveAs.js","original":{"line":3,"column":0},"generated":{"line":1,"column":122}},{"source":"saveAs.js","name":"getFilename","original":{"line":3,"column":9},"generated":{"line":1,"column":131}},{"source":"saveAs.js","name":"download","original":{"line":3,"column":21},"generated":{"line":1,"column":133}},{"source":"saveAs.js","original":{"line":4,"column":9},"generated":{"line":1,"column":136}},{"source":"saveAs.js","original":{"line":4,"column":9},"generated":{"line":1,"column":142}},{"source":"saveAs.js","name":"download","original":{"line":4,"column":10},"generated":{"line":1,"column":143}},{"source":"saveAs.js","name":"title","original":{"line":4,"column":19},"generated":{"line":1,"column":145}},{"source":"saveAs.js","name":"filter","original":{"line":5,"column":5},"generated":{"line":1,"column":152}},{"source":"saveAs.js","name":"Boolean","original":{"line":5,"column":12},"generated":{"line":1,"column":159}},{"source":"saveAs.js","name":"map","original":{"line":6,"column":5},"generated":{"line":1,"column":168}},{"source":"saveAs.js","name":"str","original":{"line":6,"column":9},"generated":{"line":1,"column":172}},{"source":"saveAs.js","name":"String","original":{"line":6,"column":16},"generated":{"line":1,"column":175}},{"source":"saveAs.js","name":"str","original":{"line":6,"column":23},"generated":{"line":1,"column":182}},{"source":"saveAs.js","name":"map","original":{"line":7,"column":5},"generated":{"line":1,"column":186}},{"source":"saveAs.js","name":"str","original":{"line":7,"column":9},"generated":{"line":1,"column":190}},{"source":"saveAs.js","name":"str","original":{"line":7,"column":16},"generated":{"line":1,"column":193}},{"source":"saveAs.js","name":"split","original":{"line":7,"column":20},"generated":{"line":1,"column":195}},{"source":"saveAs.js","original":{"line":7,"column":26},"generated":{"line":1,"column":201}},{"source":"saveAs.js","name":"filter","original":{"line":8,"column":5},"generated":{"line":1,"column":207}},{"source":"saveAs.js","name":"str","original":{"line":8,"column":12},"generated":{"line":1,"column":214}},{"source":"saveAs.js","name":"str","original":{"line":8,"column":19},"generated":{"line":1,"column":217}},{"source":"saveAs.js","name":"str","original":{"line":8,"column":23},"generated":{"line":1,"column":219}},{"source":"saveAs.js","name":"length","original":{"line":8,"column":27},"generated":{"line":1,"column":221}},{"source":"saveAs.js","original":{"line":8,"column":36},"generated":{"line":1,"column":228}},{"source":"saveAs.js","name":"map","original":{"line":9,"column":5},"generated":{"line":1,"column":232}},{"source":"saveAs.js","name":"str","original":{"line":9,"column":9},"generated":{"line":1,"column":236}},{"source":"saveAs.js","name":"str","original":{"line":9,"column":16},"generated":{"line":1,"column":239}},{"source":"saveAs.js","name":"str","original":{"line":9,"column":20},"generated":{"line":1,"column":241}},{"source":"saveAs.js","name":"length","original":{"line":9,"column":24},"generated":{"line":1,"column":243}},{"source":"saveAs.js","original":{"line":9,"column":33},"generated":{"line":1,"column":250}},{"source":"saveAs.js","name":"map","original":{"line":10,"column":5},"generated":{"line":1,"column":254}},{"source":"saveAs.js","name":"str","original":{"line":10,"column":9},"generated":{"line":1,"column":258}},{"source":"saveAs.js","name":"str","original":{"line":10,"column":16},"generated":{"line":1,"column":261}},{"source":"saveAs.js","name":"split","original":{"line":10,"column":20},"generated":{"line":1,"column":263}},{"source":"saveAs.js","original":{"line":10,"column":26},"generated":{"line":1,"column":269}},{"source":"saveAs.js","name":"map","original":{"line":11,"column":5},"generated":{"line":1,"column":279}},{"source":"saveAs.js","name":"str","original":{"line":11,"column":9},"generated":{"line":1,"column":283}},{"source":"saveAs.js","name":"str","original":{"line":11,"column":16},"generated":{"line":1,"column":286}},{"source":"saveAs.js","original":{"line":11,"column":20},"generated":{"line":1,"column":288}},{"source":"saveAs.js","name":"map","original":{"line":12,"column":5},"generated":{"line":1,"column":292}},{"source":"saveAs.js","name":"str","original":{"line":12,"column":9},"generated":{"line":1,"column":296}},{"source":"saveAs.js","name":"str","original":{"line":12,"column":19},"generated":{"line":1,"column":302}},{"source":"saveAs.js","original":{"line":12,"column":30},"generated":{"line":1,"column":311}},{"source":"saveAs.js","original":{"line":15,"column":0},"generated":{"line":1,"column":314}},{"source":"saveAs.js","name":"saveAs","original":{"line":15,"column":9},"generated":{"line":1,"column":323}},{"source":"saveAs.js","name":"action","original":{"line":15,"column":16},"generated":{"line":1,"column":325}},{"source":"saveAs.js","original":{"line":16,"column":8},"generated":{"line":1,"column":328}},{"source":"saveAs.js","name":"payload","original":{"line":16,"column":10},"generated":{"line":1,"column":334}},{"source":"saveAs.js","name":"download","original":{"line":16,"column":19},"generated":{"line":1,"column":342}},{"source":"saveAs.js","name":"action","original":{"line":16,"column":32},"generated":{"line":1,"column":345}},{"source":"saveAs.js","name":"chrome","original":{"line":17,"column":2},"generated":{"line":1,"column":347}},{"source":"saveAs.js","name":"downloads","original":{"line":17,"column":9},"generated":{"line":1,"column":354}},{"source":"saveAs.js","name":"download","original":{"line":17,"column":19},"generated":{"line":1,"column":364}},{"source":"saveAs.js","original":{"line":17,"column":28},"generated":{"line":1,"column":373}},{"source":"saveAs.js","name":"url","original":{"line":18,"column":4},"generated":{"line":1,"column":374}},{"source":"saveAs.js","name":"download","original":{"line":18,"column":9},"generated":{"line":1,"column":378}},{"source":"saveAs.js","name":"link","original":{"line":18,"column":18},"generated":{"line":1,"column":380}},{"source":"saveAs.js","name":"filename","original":{"line":19,"column":4},"generated":{"line":1,"column":385}},{"source":"saveAs.js","name":"getFilename","original":{"line":19,"column":14},"generated":{"line":1,"column":394}},{"source":"saveAs.js","name":"download","original":{"line":19,"column":26},"generated":{"line":1,"column":396}},{"source":"saveAs.js","name":"saveAs","original":{"line":20,"column":4},"generated":{"line":1,"column":399}},{"source":"saveAs.js","original":{"line":20,"column":12},"generated":{"line":1,"column":407}},{"source":"saveAs.js","original":{"line":24,"column":15},"generated":{"line":1,"column":411}},{"source":"saveAs.js","name":"saveAsSaga","original":{"line":24,"column":25},"generated":{"line":1,"column":420}},{"source":"saveAs.js","original":{"line":25,"column":8},"generated":{"line":1,"column":430}},{"source":"saveAs.js","original":{"line":25,"column":18},"generated":{"line":1,"column":432}},{"source":"saveAs.js","original":{"line":25,"column":18},"generated":{"line":1,"column":434}},{"source":"saveAs.js","original":{"line":25,"column":18},"generated":{"line":1,"column":445}},{"source":"saveAs.js","name":"saveAs","original":{"line":25,"column":37},"generated":{"line":1,"column":463}}],"sources":{"saveAs.js":"import { takeEvery } from \"redux-saga/effects\";\n\nfunction getFilename(download) {\n  return [download.title]\n    .filter(Boolean)\n    .map(str => String(str))\n    .map(str => str.split(\"/\"))\n    .filter(str => str[str.length - 1])\n    .map(str => str[str.length - 1])\n    .map(str => str.split(\".m3u8\"))\n    .map(str => str[0])\n    .map(str => `${str}.mp4`)[0];\n}\n\nfunction saveAs(action) {\n  const { payload: download } = action;\n  chrome.downloads.download({\n    url: download.link,\n    filename: getFilename(download),\n    saveAs: true\n  });\n}\n\nexport default function* saveAsSaga() {\n  yield takeEvery(\"CHROME_DOWNLOAD\", saveAs);\n}\n"},"lineCount":null}},"error":null,"hash":"cf7c5ddd38499f421d2dead1cd711421","cacheData":{"env":{}}}